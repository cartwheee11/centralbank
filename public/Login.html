<!DOCTYPE html>
<html  >
<head>
  <!-- Site made with Mobirise Website Builder v5.9.0, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v5.9.0, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="/lib/r.mobirisesite.com/324644/assets/images/17-20230814030211-128x128-2.png?v=1QAjUz" type="image/x-icon">
  <meta name="description" content="">
  
  
  <title>Личный кабинет</title>
  <link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/web/assets/mobirise-icons2/mobirise2.css">
  <link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/web/assets/mobirise-icons-bold/mobirise-icons-bold.css">
  <link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/parallax/jarallax.css">
  <link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/dropdown/css/style.css">
  <link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Comfortaa:300,400,500,600,700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa:300,400,500,600,700&display=swap"></noscript>
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"></noscript>
  <link rel="preload" as="style" href="/lib/r.mobirisesite.com/324644/assets/mobirise/css/mbr-additional.css?v=1QAjUz"><link rel="stylesheet" href="/lib/r.mobirisesite.com/324644/assets/mobirise/css/mbr-additional.css?v=1QAjUz" type="text/css">

  
  
  

<style>
  .account-container .mbr-text {
    text-align: left !important;
  }

.navbar-fixed-top {
  top: auto;
}
#mobiriseBanner.container-banner {
  height: 8rem;
  -webkit-animation: 4s linear animationHeight;
  -moz-animation: 4s linear animationHeight;
    -o-animation: 4s linear animationHeight;
       animation: 4s linear animationHeight;
}
#mobiriseBanner .banner {
  min-height: 8rem;
  position:fixed;
  top: 0;
  left: 0;
  right: 0;
  background: #fff;
  padding: 10px;
  opacity:1;
  -webkit-animation: 4s linear animationBanner;
  -moz-animation: 4s linear animationBanner;
    -o-animation: 4s linear animationBanner;
       animation: 4s linear animationBanner;
  z-index: 1031;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
#mobiriseBanner .banner p {
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  animation: none;
  visibility: visible;
}
#mobiriseBanner .buy-license {
  text-decoration: underline;
}
#mobiriseBanner .banner .btn {
  margin: 0.3rem 0.5rem;
  animation: none;
  visibility: visible;
}
.navbar.opened {
    z-index: 1032;
}
@-webkit-keyframes animationBanner { 0% { opacity: 0; top: -8rem; } 75% { opacity: 0; top: -8rem; } 100% { opacity: 1; top: 0; } }
@-moz-keyframes animationBanner { 0% { opacity: 0; top: -8rem; } 75% { opacity: 0; top: -8rem; } 100% { opacity: 1; top: 0; } }
@-o-keyframes animationBanner { 0% { opacity: 0; top: -8rem; } 75% { opacity: 0; top: -8rem; } 100% { opacity: 1; top: 0; } }
   @keyframes animationBanner { 0% { opacity: 0; top: -8rem; } 75% { opacity: 0; top: -8rem; } 100% { opacity: 1; top: 0; } }
@-webkit-keyframes animationHeight { 0% { height: 0; } 75% { height: 0; } 100% { height: 8rem; } }
@-moz-keyframes animationHeight { 0% { height: 0; } 75% { height: 0; } 100% { height: 8rem; } }
@-o-keyframes animationHeight { 0% { height: 0; } 75% { height: 0; } 100% { height: 8rem; } }
   @keyframes animationHeight { 0% { height: 0; } 75% { height: 0; } 100% { height: 8rem; } }
@media(max-width: 767px) {
  #mobiriseBanner.container-banner {
    height: 12rem;
  }
  #mobiriseBanner .banner {
    min-height: 12rem;
  }
  @-webkit-keyframes animationBanner { 0% { opacity: 0; top: -12rem; } 75% { opacity: 0; top: -12rem; } 100% { opacity: 1; top: 0; } }
  @-moz-keyframes animationBanner { 0% { opacity: 0; top: -12rem; } 75% { opacity: 0; top: -12rem; } 100% { opacity: 1; top: 0; } }
  @-o-keyframes animationBanner { 0% { opacity: 0; top: -12rem; } 75% { opacity: 0; top: -12rem; } 100% { opacity: 1; top: 0; } }
    @keyframes animationBanner { 0% { opacity: 0; top: -12rem; } 75% { opacity: 0; top: -12rem; } 100% { opacity: 1; top: 0; } }
  @-webkit-keyframes animationHeight { 0% { height: 0; } 75% { height: 0; } 100% { height: 12rem; } }
  @-moz-keyframes animationHeight { 0% { height: 0; } 75% { height: 0; } 100% { height: 12rem; } }
  @-o-keyframes animationHeight { 0% { height: 0; } 75% { height: 0; } 100% { height: 12rem; } }
    @keyframes animationHeight { 0% { height: 0; } 75% { height: 0; } 100% { height: 12rem; } }
}
</style>
</head>
<body>
  
  <section data-bs-version="5.1" class="menu menu2 cid-tJS6tZXiPa" once="menu" id="menu02-3q">
  

  <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
    <div class="container">
      <div class="navbar-brand">
        <span class="navbar-logo">
          
            <a href="index.html"><img src="/lib/r.mobirisesite.com/324644/assets/images/17-20230814030211-160x160-3.png?v=1QAjUz" alt="" style="height: 3rem;"></a>
          
        </span>
        <span class="navbar-caption-wrap"><a class="navbar-caption text-black text-primary display-4" href="index.html">Empire Express</a></span>
      </div>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item">
            <a class="nav-link link text-black text-primary display-4" href="index.html">Новости</a>
          </li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="bank.html">Банк</a></li>
          <li class="nav-item">
            <a class="nav-link link text-black text-primary display-4" href="dollar.html#people01-22" aria-expanded="false">Курс валют</a>
          </li><li class="nav-item">
            <a class="nav-link link text-black text-primary display-4" href="contact.html">Контакты</a>
          </li></ul>
        
        <div class="navbar-buttons mbr-section-btn"><a class="btn btn-secondary display-4" href="Login.html"><span class="mobi-mbri mobi-mbri-user-2 mbr-iconfont mbr-iconfont-btn"></span>Личный кабинет</a></div>
      </div>
    </div>
  </nav>
</section>

<section data-bs-version="5.1" class="header09 cid-tMR8sIkmcR cid-tO3y1Z35iv mbr-fullscreen mbr-parallax-background" id="header09-3s">
  
  
  <div class="container header-container">
    <div class="row">
      <div class="content-wrap col-12 col-md-8">
        <h1 class="mbr-section-title mbr-fonts-style mbr-white mb-4 display-1">
          <strong>Все началось с твоих желаний</strong></h1>
        
        <p style="color: white!important" class="mbr-fonts-style mbr-text mbr-white mb-4 display-7">
          Управляй своим счетом онлайн с любимым банком</p>
        
      </div>
    </div>
  </div>

  <div class="container account-container" style="text-align: left!important; display: none">
      <div class="mbr-section-head mb-5">
          <h3 class="mbr-section-title mbr-fonts-style align-left mb-0 display-1">
              <strong>Личный кабинет</strong>
          
      </div>
      <div class="row">
          <div class="item features-without-image col-12 col-md-6">
              <div class="item-wrapper">
                  <div class="text-wrapper">
                      <h6 class="card-title mbr-fonts-style mb-3 display-5"><strong class="account-deposit">Загрузка...</strong> <strong>₲</strong></h6>
                      <p class="account-deposit mbr-text mbr-fonts-style display-7">Сберегательный счёт<br><strong>Тип счета:</strong> ImperialCard</p>
                  </div>
              </div>
          </div>
          <div class="item features-without-image col-12 col-md-6 active">
            <div class="item-wrapper">
                <div class="text-wrapper">
                    <h6 class="card-title mbr-fonts-style mb-3 display-5">
                        <strong>Не доступно</strong></h6>
                    <p class="mbr-text mbr-fonts-style display-7"><p class="mbr-text mbr-fonts-style display-7">Банковская ячейка</p></p>
                </div>
            </div>
          </div>
          <div class="item features-without-image col-12 col-md-6 active">
              <div class="item-wrapper">
                  <div class="text-wrapper">
                      <h6 class="card-title mbr-fonts-style mb-3 display-5">
                          <strong>Ваш никнейм</strong></h6>
                      <p class="mbr-text mbr-fonts-style display-7"><p class="mbr-text mbr-fonts-style display-7 account-nickname">Загрузка...</p></p>
                  </div>
              </div>
          </div>
          <div class="item features-without-image col-12 col-md-6">
              <div class="item-wrapper">
                  <div class="text-wrapper">
                      <h6 class="card-title mbr-fonts-style col-md-12 col-12 display-5">
                          <strong>ICN-код у/л</strong></h6>
                          <p class="account-pass mbr-text mbr-fonts-style display-7">Загрузка...</p>
                          <button class="show-pass-button" style="background: #f5cb7c; padding: 10px 20px; border-radius: 100px; font-family: 'Comfortaa', display; color: #6a4808"> Показать 🤔</button>
                  </div>
              </div>
          </div>
          <div class="item features-without-image col-12 col-md-6">
            <div class="item-wrapper">
                <div class="text-wrapper">
                    <h6 class="card-title mbr-fonts-style mb-3 display-5"><strong>Регистрация</strong>
                    </h6>
                    <p class="account-registration mbr-text mbr-fonts-style display-7">Загрузка...</p>
                </div>
            </div>
        </div>

          <div class="mbr-section-btn mt-4"><button class="logout-button btn btn-secondary display-7"><span class="mbrib-exit"></span>Выйти</button></div>
      </div>
  </div>
</section>

<!-- <section class="cid-tO3yDEwKr0 login-form-section">
  
    <div class="container">
      <div class="row justify-content-center">
        <div class="card col-12 col-md-12 col-lg-12">
          <div class="card-wrapper">
            <div class="card-box align-center">
              <h1 class="card-title mbr-fonts-style mb-4 display-1">
                <strong>Личный кабинет</strong></h1>
               
            </div>
          </div>
        </div>
      </div>
    </div>

</section> -->

<section data-bs-version="5.1" class="header14 cid-tO3yDEwKr0 login-form-section" id="header14-3t">
  
  <div class="container">
    <div class="row justify-content-center">
      <div class="card col-12 col-md-12 col-lg-8">
        <div class="card-wrapper">
          <div class="card-box align-center">
            <h1 class="card-title mbr-fonts-style mb-4 display-1">
              <strong>Вход в аккаунт</strong></h1>
              <p><input placeholder="Никнейм" type="text" class="form-control nickname"></p>
              <p><input placeholder="ICN / ILN" type="password" class="form-control pass"></p>
              <p style="color: red" class="login-error-message"></p>
            <div class="mbr-section-btn mt-4"><button class="submit-button btn btn-secondary display-7"><span class="mbrib-users mbr-iconfont mbr-iconfont-btn"></span>Войти</button></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section data-bs-version="5.1" class="footer4 cid-tMR6PO8bxk" once="footers" id="footer04-3r">

    

    

    <div class="container">
        <div class="media-container-row align-center mbr-white">
            <div class="col-12">
                <p class="mbr-text mb-0 mbr-fonts-style display-7">
                    © Empire Express 2023 - Wszystkie prawa zastrzeżone
                </p>
            </div>
        </div>
    </div>
</section>


<script src="/lib/r.mobirisesite.com/324644/assets/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="./js/checkauth.js" type="module"></script>
  <script src="/lib/r.mobirisesite.com/324644/assets/parallax/jarallax.js"></script>
  <script src="/lib/r.mobirisesite.com/324644/assets/smoothscroll/smooth-scroll.js"></script>
  <script src="/lib/r.mobirisesite.com/324644/assets/ytplayer/index.js"></script>
  <script src="/lib/r.mobirisesite.com/324644/assets/dropdown/js/navbar-dropdown.js"></script>
  <script src="/lib/r.mobirisesite.com/324644/assets/theme/js/script.js"></script>
  <script type="module" src="./js/api.js"></script>
  
  <script type="module">
    import * as api from './js/api.js';
    const nicknameInput = document.querySelector('.nickname');
    const passInput = document.querySelector('.pass');
    const submitButton = document.querySelector('.submit-button')

    const accountNickname = document.querySelector('.account-nickname');
    const accountPass = document.querySelector('.account-pass');
    const accountRegistration = document.querySelector('.account-registration')
    const accountDeposit = document.querySelector('.account-deposit');
    const accountContainer = document.querySelector('.account-container');
    const headerContainer = document.querySelector('.header-container');
    const loginSection = document.querySelector('.login-form-section');

    const logoutButton = document.querySelector('.logout-button');
    logoutButton.onclick = () => {
      localStorage.removeItem('auth');
      localStorage.removeItem('user');
      location.reload()
    }

    const showPassButton = document.querySelector('.show-pass-button');
    showPassButton.onclick = () => {
      const auth = JSON.parse(localStorage.getItem('auth'));
      if(showPassButton.innerText == 'Показать 🤔') {
        accountPass.innerText = auth.pass
        showPassButton.innerText = 'Скрыть 🤫';  
      } else {
        accountPass.innerText = auth.pass.slice(0, 3) + '●●●●●●';
        showPassButton.innerText = 'Показать 🤔';  
      }
      

    }

    function updateAccoutInfo(nickname, pass, registration, deposit) {
      accountNickname.innerText = nickname;
      accountPass.innerText = pass.slice(0, 3) + '●●●●●●';
      accountDeposit.innerText =  ((deposit || 0))
    .toString()
    .split('')
    .reverse()
    .map((char, i) => char + (i % 3 ? '' : ' '))
    .reverse()
    .join('')
      accountRegistration.innerText = registration || 'Без прописки';

      loginSection.style = 'display: none';
      headerContainer.style = 'display: none';
      accountContainer.style = 'display: block'
    }

    if(localStorage.getItem('user'), localStorage.getItem('auth')) {
      const user = JSON.parse(localStorage.getItem('user'));
      const auth = JSON.parse(localStorage.getItem('auth'));

      updateAccoutInfo(user.nickname, auth.pass, user.registration, user.deposit);
    }
    
    submitButton.onclick = () => {
      api.login(nicknameInput.value, passInput.value).then(res => {
        if(res.success) {
          const user = res.user
          updateAccoutInfo(user.nickname, passInput.value, user.registration, user.deposit)

          localStorage.setItem('user', JSON.stringify(res.user));
          localStorage.setItem('auth', JSON.stringify({
            nickname: nicknameInput.value,
            pass: passInput.value
          }));
        } else {
          const errorDOM = document.querySelector('.login-error-message');
          errorDOM.innerText = res.message;
          // alert(res.message)
        }
      })  
    }
    
  </script>
  
</body>
</html>
